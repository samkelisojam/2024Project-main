@model AdvisorViewModel

<div class="container mt-4">
    <!-- Profile Header -->
    <div class="mb-4">
        <h3 class="mb-2">
            <i class="fas fa-user"></i> Welcome, @Model.CurrentUser.FirstName @Model.CurrentUser.LastName
        </h3>
        <h4 class="text-muted">
            <i class="fas fa-wallet"></i> Current Balance: R @Model.CurrentUserBankAccount.Balance
        </h4>
        <h4 class="text-muted">
            <i class="fas fa-id-card"></i> Account Number: @Model.CurrentUserBankAccount.AccountNumber
        </h4>
    </div>

    <hr />

    <!-- Transactions Section -->
    <div class="mb-4">
        <h3>
            <i class="fas fa-exchange-alt"></i> Transactions
        </h3>
        @if (Model.Transactions.Count() > 0)
        {
            <table class="table table-striped-columns table-info">
                <thead>
                    <tr>
                        <th scope="col"><i class="fas fa-tag"></i> Reference</th>
                        <th scope="col"><i class="fas fa-money-bill-wave"></i> Amount</th>
                        <th scope="col"><i class="fas fa-calendar-day"></i> Date</th>
                        <th scope="col"><i class="fas fa-envelope"></i> Email</th>
                        <th scope="col"><i class="fas fa-arrow-right"></i> Receiver Acc. No.</th>
                        <th scope="col"><i class="fas fa-arrow-left"></i> Sender Acc. No.</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var transaction in Model.Transactions)
                    {
                        <tr>
                            <td>@transaction.Reference <span class="badge bg-success">Active</span></td>
                            <td>R @(transaction.Amount)</td>
                            <td>@transaction.TransactionDate.ToShortDateString()</td>
                            <td>@transaction.UserEmail</td>
                            <td>@transaction.BankAccountIdReceiver</td>
                            <td>@transaction.BankAccountIdSender</td>
                        </tr>
                    }
                </tbody>
            </table>
        }
        else
        {
            <h4 class="text-center">No Transactions found</h4>
        }
    </div>

    <!-- Advice Form -->
    <div class="mb-4">
        <h3>
            <i class="fas fa-comment-dots"></i> Send Advice
        </h3>
        <form method="post" asp-action="Advice" asp-controller="FinAdvisor">
            <input type="email" class="form-control" hidden asp-for="UserEmail" />
            <div class="mb-3">
                <label for="advicetxt" class="form-label">Please type in Advice:</label>
                <textarea asp-for="Advise" class="form-control" id="advicetxt" rows="5"></textarea>
            </div>
            <div class="d-flex justify-content-between">
                <button class="btn btn-info btn-lg" type="submit">
                    <i class="fas fa-paper-plane"></i> Send Advice
                </button>
                <a asp-action="Index" asp-controller="FinAdvisor" class="btn btn-outline-info btn-lg">
                    <i class="fas fa-arrow-left"></i> Go back
                </a>
            </div>
        </form>
    </div>
</div>

<!-- Ensure Font Awesome or another icon library is included -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js" integrity="sha384-n8DsbA5h8xHGzM2eq0lV9LgDffI4AbNfPY7WcbR5nPU8d6E6lA9FvxgZBcr7EqU" crossorigin="anonymous"></script>
